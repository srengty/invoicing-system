import{C as x,P as T,B as q,p as M,a as N,b as j,A as K,c as R,d as U,L as V}from"./chart-DGFN5v2F.js";import{bq as O,br as S,bs as _,bt as G,a as W,o as $,bk as z,w as H,bu as P,av as J,bv as E,G as D,d as X,e as Y,i as r,t as B,f as w}from"./app-bSMdDCtv.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},tt={ariaLabel:{type:String},ariaDescribedby:{type:String}},at={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...L,...tt},et=G[0]==="2"?(t,a)=>Object.assign(t,{attrs:a}):(t,a)=>Object.assign(t,a);function p(t){return E(t)?P(t):t}function st(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return E(a)?new Proxy(t,{}):t}function ot(t,a){const o=t.options;o&&a&&Object.assign(o,a)}function k(t,a){t.labels=a}function A(t,a,o){const d=[];t.datasets=a.map(s=>{const e=t.datasets.find(l=>l[o]===s[o]);return!e||!s.data||d.includes(e)?{...s}:(d.push(e),Object.assign(e,s),e)})}function rt(t,a){const o={labels:[],datasets:[]};return k(o,t.labels),A(o,t.datasets,a),o}const nt=O({props:at,setup(t,a){let{expose:o,slots:d}=a;const s=W(null),e=S(null);o({chart:e});const l=()=>{if(!s.value)return;const{type:n,data:f,options:b,plugins:h,datasetIdKey:m}=t,C=rt(f,m),i=st(C,f);e.value=new x(s.value,{type:n,data:i,options:{...b},plugins:h})},u=()=>{const n=P(e.value);n&&(t.destroyDelay>0?setTimeout(()=>{n.destroy(),e.value=null},t.destroyDelay):(n.destroy(),e.value=null))},I=n=>{n.update(t.updateMode)};return $(l),z(u),H([()=>t.options,()=>t.data],(n,f)=>{let[b,h]=n,[m,C]=f;const i=P(e.value);if(!i)return;let y=!1;if(b){const c=p(b),g=p(m);c&&c!==g&&(ot(i,c),y=!0)}if(h){const c=p(h.labels),g=p(C.labels),v=p(h.datasets),Q=p(C.datasets);c!==g&&(k(i.config.data,c),y=!0),v&&v!==Q&&(A(i.config.data,v,t.datasetIdKey),y=!0)}y&&J(()=>{I(i)})},{deep:!0}),()=>_("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:s},[_("p",{},[d.default?d.default():""])])}});function F(t,a){return x.register(a),O({props:L,setup(o,d){let{expose:s}=d;const e=S(null),l=u=>{e.value=u==null?void 0:u.chart};return s({chart:e}),()=>_(nt,et({ref:l},{type:t,...o}))}})}const dt=F("bar",q),lt=F("pie",T);x.register(M,N,j,K,R,U,V);const ut={components:{PieChart:lt,BarChart:dt},data(){return{productCount:0,customerCount:0,chartData:{labels:["Products","Customers"],datasets:[{data:[0,0],backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}]},barChartData:{labels:["Q1","Q2","Q3","Q4"],datasets:[{label:"Sales",data:[10,20,30,40],backgroundColor:"#42A5F5",borderColor:"#1E88E5",borderWidth:1}]}}},mounted(){axios.get("/settings").then(t=>{this.productCount=t.data.productCount,this.customerCount=t.data.customerCount,this.chartData.datasets[0].data=[this.productCount,this.customerCount]}).catch(t=>{console.error("There was an error fetching the settings data:",t)})}},it={class:"dashboard-container"},ct={class:"dashboard-row"},pt={class:"dashboard-card"},ht={class:"dashboard-card"},ft={class:"dashboard-row"},bt={class:"dashboard-chart"},Ct={class:"dashboard-chart"};function yt(t,a,o,d,s,e){const l=D("PieChart"),u=D("BarChart");return Y(),X("div",it,[a[4]||(a[4]=r("h1",null,"Settings Dashboard",-1)),r("div",ct,[r("div",pt,[a[0]||(a[0]=r("h3",null,"Product Count",-1)),r("p",null,B(s.productCount),1)]),r("div",ht,[a[1]||(a[1]=r("h3",null,"Customer Count",-1)),r("p",null,B(s.customerCount),1)])]),r("div",ft,[r("div",bt,[a[2]||(a[2]=r("h3",null,"Product vs Customer",-1)),w(l,{data:s.chartData},null,8,["data"])]),r("div",Ct,[a[3]||(a[3]=r("h3",null,"Example Bar Chart",-1)),w(u,{data:s.barChartData},null,8,["data"])])])])}const _t=Z(ut,[["render",yt],["__scopeId","data-v-2d6128ce"]]);export{_t as default};
